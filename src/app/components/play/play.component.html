<div class="col">
    <div class="row justify-content-start" *ngIf="!gameService.getGameInProgress()">
        <button type="button" class="btn btn-light" (click)="gameService.buildGame();">Start New Game</button>
    </div>

    <div *ngIf="gameService.getGameInProgress()">

        <div class="row align-items-center">
            <div class="col">
                <div class="row justify-content-start">
                    <button type="button" class="btn btn-light" (click)="gameService.buildGame();">Start New
                        Game</button>
                </div>
            </div>
            <div class="col bg-light" *ngIf="gameService.getNumberOfPlayers() >= 2" style="height: 9vh;">
                <div class="row justify-content-around">{{gameService.getPlayers()[1].name}}</div>
            </div>
            <div class="col"></div>
        </div>

        <br>

        <div class="row">

            <div class="col-1 bg-light" *ngIf="gameService.getNumberOfPlayers() >= 3">
                <div class="row justify-content-around">{{gameService.getPlayers()[2].name}}</div>
            </div>

            <div class="col-1"></div>

            <div class="col">
                <section class="container" *ngIf="gameService.getNobles() && gameService.getNobles().length > 0">
                    <div class="row justify-content-around" style="height: 15vh;">
                        <ng-container *ngFor="let noble of gameService.getNobles()">
                            <div class="col-sm-2">
                                <div class="card bg-dark">
                                    <img class="card-img" style="object-fit: cover; height: 15vh;"
                                        src="../../../assets/noble.jpg" alt="noble">
                                    <div class="card-img-overlay">
                                        <div class="d-flex flex-column h-100 justify-content-between">
                                            <div class="row justify-content-around bg-light">
                                                <h4 class="card-text">{{noble.points}}</h4>
                                                <h4></h4>
                                            </div>
                                            <div class="row justify-content-around bg-light">
                                                <h4 class="card-text text-center"
                                                    [ngStyle]="getCostColor(nobleCost.type[0])"
                                                    *ngFor="let nobleCost of noble.cost">
                                                    {{nobleCost.value}}</h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </section>
                <br>
                <section class="container" *ngIf="gameService.getT3Deck() && gameService.getT3Showing()">
                    <div class="row justify-content-around" style="height: 15vh;">
                        <div class="col-sm-2">
                            <div class="card bg-success">
                                <img class="card-img" style="object-fit: cover; height: 15vh; opacity: .5;"
                                    src="../../../assets/t3gems.png" alt="t3">
                                <div class="card-img-overlay">
                                    <div class="d-flex flex-column h-100 justify-content-between">
                                        <div class="row justify-content-around bg-light">
                                            <h4>{{gameService.getT3Deck().length}}</h4>
                                        </div>
                                        <div class="row justify-content-around bg-light">
                                            <h4 class="card-text text-center">Tier 3</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ng-container *ngFor="let card of gameService.getT3Showing(); let i = index">
                            <div class="col-sm-2" *ngIf="i < 4" (click)="buyCard(card, i)">
                                <div class="card pointer bg-success">
                                    <img class="card-img" style="object-fit: cover; height: 15vh; opacity: .85;"
                                        src="../../../assets/t3gems.png" alt="t3">
                                    <div class="card-img-overlay">
                                        <div class="d-flex flex-column h-100 justify-content-between" *ngIf="card">
                                            <div class="row justify-content-around bg-light">
                                                <h4>{{card.points}}</h4>
                                                <h4>-</h4>
                                                <h4 [ngStyle]="getCostColor(card.value.type[0])">
                                                    {{card.value.value}}
                                                </h4>
                                            </div>
                                            <div class="row justify-content-around bg-light">
                                                <h4 class="card-text text-center"
                                                    [ngStyle]="getCostColor(cardCost.type[0])"
                                                    *ngFor="let cardCost of card.cost">{{cardCost.value}}</h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </section>
                <br>
                <section class="container" *ngIf="gameService.getT2Deck() && gameService.getT2Showing()">
                    <div class="row justify-content-around" style="height: 15vh;">
                        <div class="col-sm-2">
                            <div class="card bg-warning">
                                <img class="card-img"
                                    style="object-fit: cover; height: 15vh; opacity: .5; background-color: white;"
                                    src="../../../assets/t2gems.svg" alt="t2">
                                <div class="card-img-overlay">
                                    <div class="d-flex flex-column h-100 justify-content-between">
                                        <div class="row justify-content-around bg-light">
                                            <h4>{{gameService.getT2Deck().length}}</h4>
                                        </div>
                                        <div class="row justify-content-around bg-light">
                                            <h4 class="card-text text-center">Tier 2</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ng-container *ngFor="let card of gameService.getT2Showing(); let i = index">
                            <div class="col-sm-2" *ngIf="i < 4" (click)="buyCard(card, i)">
                                <div class="card pointer bg-warning">
                                    <img class="card-img"
                                        style="object-fit: cover; height: 15vh; opacity: .85; background-color: white;"
                                        src="../../../assets/t2gems.svg" alt="t2">
                                    <div class="card-img-overlay">
                                        <div class="d-flex flex-column h-100 justify-content-between" *ngIf="card">
                                            <div class="row justify-content-around bg-light">
                                                <h4>{{card.points}}</h4>
                                                <h4>-</h4>
                                                <h4 [ngStyle]="getCostColor(card.value.type[0])">
                                                    {{card.value.value}}
                                                </h4>
                                            </div>
                                            <div class="row justify-content-around bg-light">
                                                <h4 class="card-text text-center"
                                                    [ngStyle]="getCostColor(cardCost.type[0])"
                                                    *ngFor="let cardCost of card.cost">{{cardCost.value}}</h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </section>
                <br>
                <section class="container" *ngIf="gameService.getT1Deck() && gameService.getT1Showing()">
                    <div class="row justify-content-around" style="height: 15vh;">
                        <div class="col-sm-2">
                            <div class="card bg-primary">
                                <img class="card-img" style="object-fit: cover; height: 15vh; opacity: .5;"
                                    src="../../../assets/t1gem.png" alt="t1">
                                <div class="card-img-overlay">
                                    <div class="d-flex flex-column h-100 justify-content-between">
                                        <div class="row justify-content-around bg-light">
                                            <h4>{{gameService.getT1Deck().length}}</h4>
                                        </div>
                                        <div class="row justify-content-around bg-light">
                                            <h4 class="card-text text-center">Tier 1</h4>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ng-container *ngFor="let card of gameService.getT1Showing(); let i = index">
                            <div class="col-sm-2" *ngIf="i < 4" (click)="buyCard(card, i)">
                                <div class="card pointer bg-primary">
                                    <img class="card-img" style="object-fit: cover; height: 15vh; opacity: .85;"
                                        src="../../../assets/t1gem.png" alt="t1">
                                    <div class="card-img-overlay">
                                        <div class="d-flex flex-column h-100 justify-content-between" *ngIf="card">
                                            <div class="row justify-content-around bg-light">
                                                <h4>{{card.points}}</h4>
                                                <h4>-</h4>
                                                <h4 [ngStyle]="getCostColor(card.value.type[0])">
                                                    {{card.value.value}}
                                                </h4>
                                            </div>
                                            <div class="row justify-content-around bg-light">
                                                <h4 class="card-text text-center"
                                                    [ngStyle]="getCostColor(cardCost.type[0])"
                                                    *ngFor="let cardCost of card.cost">{{cardCost.value}}</h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                </section>
            </div>

            <div class="col-1"></div>

            <div class="col-1 d-flex flex-column justify-content-around border border-light">

                <div *ngFor="let gem of gemTypes">

                    <div class="card pointer" [ngClass]=getGemColor(gem[0])
                        (click)="updateBankTokens(getGemTypeFromString(gem), -1)">
                        <img class="card-img" style="object-fit: cover; height: 9vh; opacity: .5;"
                            src="../../../assets/t1gem.png" alt="{{gem}}">
                        <div class="card-img-overlay">
                            <div class="d-flex flex-column justify-content-center">
                                <div class="row justify-content-around bg-light">
                                    <h4 [ngStyle]="getCostColor(gem[0])">{{gem.substring(0, 3)}}</h4>
                                    <h4>{{gameService.getBankTokens().get(getGemTypeFromString(gem))}}</h4>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>

            <div class="col-1"></div>

            <div class="col-1 bg-light" *ngIf="gameService.getNumberOfPlayers() >= 4">
                <div class="row justify-content-around">{{gameService.getPlayers()[3].name}}</div>
            </div>
        </div>

        <br>

        <div class="row align-items-center">
            <div class="col text-center text-light border border-light" style="height: 9vh;">Turn Status (place holder -
                make pop up?)
            </div>
            <div class="col-1"></div>
            <div class="col-4 bg-light" style="height: 9vh;">
                <div class="row justify-content-around">{{gameService.getPlayers()[0].name}} (You)</div>
            </div>
            <div class="col-1">
                <button type="button" class="btn btn-lg btn-danger" data-toggle="popover" title="Popover title"
                    data-content="And here's some amazing content. It's very engaging. Right?">Click to toggle
                    popover</button>
                <!-- <button type="button" class="btn btn-secondary test-tooltip" data-toggle="tooltip" data-placement="top"
                    title="Tooltip on top">
                    Tooltip on top
                </button> -->
            </div>
            <div class="col text-center text-light">End Turn (place holder - make button)</div>
        </div>
    </div>
</div>